///============================================================================
/// Theme Nova — Calendar, Pivot & Graph Views
///============================================================================

// ─── Calendar View ─────────────────────────────────────────────────────────
.o_calendar_view {
    background: var(--nova-bg);

    .o_calendar_widget {
        background: var(--nova-surface);
        border: 1px solid var(--nova-border);
        border-radius: var(--nova-radius-lg);
        overflow: hidden;
        box-shadow: var(--nova-shadow-xs);
    }

    // FullCalendar overrides
    .fc {
        .fc-toolbar {
            padding: var(--nova-space-3) var(--nova-space-4);

            .fc-toolbar-title {
                font-size: 1.125rem;
                font-weight: 600;
                color: var(--nova-text);
            }

            .fc-button {
                background: var(--nova-surface);
                border: 1px solid var(--nova-border);
                border-radius: var(--nova-radius) !important;
                color: var(--nova-text-secondary);
                font-size: 0.8125rem;
                font-weight: 500;
                padding: var(--nova-space-1) var(--nova-space-3);
                transition: all var(--nova-transition-fast);

                &:hover {
                    background: var(--nova-accent-light);
                    color: var(--nova-accent);
                    border-color: var(--nova-accent);
                }

                &.fc-button-active, &:active {
                    background: var(--nova-accent) !important;
                    border-color: var(--nova-accent) !important;
                    color: white !important;
                }
            }
        }

        // Day headers
        .fc-col-header-cell {
            background: var(--nova-bg-alt);
            border-color: var(--nova-border);
            padding: var(--nova-space-2) 0;

            a {
                font-size: 0.75rem;
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 0.04em;
                color: var(--nova-text-secondary);
            }
        }

        // Day cells
        .fc-daygrid-day {
            border-color: var(--nova-border-light);

            &.fc-day-today {
                background: var(--nova-accent-light) !important;
            }

            .fc-daygrid-day-number {
                font-size: 0.8125rem;
                font-weight: 500;
                color: var(--nova-text);
                padding: var(--nova-space-1) var(--nova-space-2);
            }
        }

        // Events
        .fc-event {
            border-radius: var(--nova-radius-sm);
            border: none;
            padding: 1px var(--nova-space-1);
            font-size: 0.75rem;
            font-weight: 500;
        }

        // Time grid
        .fc-timegrid-slot {
            border-color: var(--nova-border-light);
            height: 40px;
        }
    }

    // Calendar sidebar (filters)
    .o_calendar_sidebar {
        background: var(--nova-surface);
        border-left: 1px solid var(--nova-border);
        padding: var(--nova-space-4);

        .o_calendar_filter {
            .o_calendar_filter_item {
                border-radius: var(--nova-radius);
                padding: var(--nova-space-1) var(--nova-space-2);
                font-size: 0.8125rem;

                &:hover {
                    background: var(--nova-accent-light);
                }
            }
        }
    }
}

// ─── Pivot View ────────────────────────────────────────────────────────────
.o_pivot {
    background: var(--nova-bg);
    padding: var(--nova-space-4);

    table {
        background: var(--nova-surface);
        border: 1px solid var(--nova-border);
        border-radius: var(--nova-radius-lg);
        overflow: hidden;
        box-shadow: var(--nova-shadow-xs);

        thead th {
            background: var(--nova-bg-alt);
            border-color: var(--nova-border);
            color: var(--nova-text-secondary);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.04em;
            padding: var(--nova-space-3) var(--nova-space-4);
        }

        tbody {
            td {
                border-color: var(--nova-border-light);
                padding: var(--nova-space-2) var(--nova-space-4);
                font-size: $font-size-sm;
                color: var(--nova-text);
                font-variant-numeric: tabular-nums;
            }

            th {
                background: var(--nova-bg-alt);
                font-weight: 500;
                color: var(--nova-text);
                border-color: var(--nova-border-light);
                padding: var(--nova-space-2) var(--nova-space-4);
                font-size: $font-size-sm;
            }

            tr:hover td {
                background: var(--nova-accent-light);
            }
        }

        tfoot td {
            background: var(--nova-bg-alt);
            font-weight: 600;
            border-top: 2px solid var(--nova-border);
        }
    }
}

// ─── Graph View ────────────────────────────────────────────────────────────
.o_graph_view {
    background: var(--nova-bg);
    padding: var(--nova-space-4);

    .o_graph_canvas_container {
        background: var(--nova-surface);
        border: 1px solid var(--nova-border);
        border-radius: var(--nova-radius-lg);
        padding: var(--nova-space-6);
        box-shadow: var(--nova-shadow-xs);
    }

    // Graph buttons
    .o_graph_buttons {
        .btn {
            border-radius: var(--nova-radius);
        }
    }
}

// ─── Activity View ─────────────────────────────────────────────────────────
.o_activity_view {
    background: var(--nova-bg);

    .o_activity_view_table {
        border-radius: var(--nova-radius-lg);
        overflow: hidden;
        border: 1px solid var(--nova-border);
        box-shadow: var(--nova-shadow-xs);

        thead th {
            background: var(--nova-bg-alt);
            border-color: var(--nova-border);
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--nova-text-secondary);
        }

        tbody td {
            border-color: var(--nova-border-light);
        }
    }
}
